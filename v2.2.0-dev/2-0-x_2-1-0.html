<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.31.1">
    <meta name="project" content="MongoosePush v2.2.0-dev">


    <title>2.0.x to 2.1.0 — MongoosePush v2.2.0-dev</title>
    <link rel="stylesheet" href="dist/html-elixir-FM2CSD74.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-43PMFBC7.js"></script>
    <script src="dist/sidebar_items-31EBBC29.js"></script>

      <script src="../assets/js/versions.js"></script>

    <script async src="dist/html-L4O5OK2K.js"></script>


  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<div class="background-layer"></div>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="https://esl.github.io/MongoosePush" class="sidebar-projectName" translate="no">
MongoosePush
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.2.0-dev
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


        <li>
          <button id="tasks-list-tab-button" role="tab" data-type="tasks" aria-controls="tasks-tab-panel" aria-selected="false" tabindex="-1">
            <span translate="no">Mix</span> Tasks
          </button>
        </li>

    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


    <div id="tasks-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="tasks-list-tab-button" hidden>
      <ul id="tasks-full-list" class="full-list"></ul>
    </div>

</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">
      <div class="top-search">
        <div class="search-settings">
          <form class="search-bar" action="search.html">
            <label class="search-label">
              <span class="sr-only">Search documentation of MongoosePush</span>
              <input name="q" type="text" class="search-input" placeholder="Search Documentation (press /)" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
            </label>
            <button type="submit" class="search-button" aria-label="Submit Search">
              <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
            </button>
            <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
              <i class="ri-close-line ri-lg" title="Cancel search"></i>
            </button>
          </form>
          <div class="autocomplete">
          </div>
          <button class="icon-settings display-settings">
            <i class="ri-settings-3-line"></i>
            <span class="sr-only">Settings</span>
          </button>
        </div>

      </div>

<h1>

    <a href="https://github.com/esl/MongoosePush/blob/main/guides/migrations/2.0.x_2.1.0.md#L1" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>


  <span>Migration guide from 2.0.x to 2.1.0</span>
</h1>

<p>Please note that for standard usage, when configuring MongoosePush only with environmental variables, the <code class="inline">config/*.exs</code> files are upgraded automatically and there is no action required from your end.
If your MongoosePush is using modified <code class="inline">config/*.exs</code> files, please have a closer look at the changes presented below to see if you have to adjust your custom configuration.
In such case, there could be a few changes necessary in the configuration files and a few additional, optional ones.</p><h2 id="main-config-config-config-exs" class="section-heading">
  <a href="#main-config-config-config-exs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Main config (<code class="inline">config/config.exs</code>)</span>
</h2>
<p>MongoosePush supports structured logging from the 2.1.0 release. To use that feature, there is a need to change the logger configuration to use the new default.
Old logger config:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:logger</span><span class="p">,</span><span class="w"> </span><span class="ss">:console</span><span class="p">,</span><span class="w">
  </span><span class="ss">format</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">$dateT$time [$level] $metadata$levelpad$message</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">metadata</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7931609238-1">[</span><span class="ss">:pid</span><span class="p" data-group-id="7931609238-1">]</span></code></pre><p>New logger config:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:logger</span><span class="p">,</span><span class="w"> </span><span class="ss">:console</span><span class="p">,</span><span class="w">
  </span><span class="ss">format</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8101938101-1">{</span><span class="nc">MongoosePush.Logger.LogFmt</span><span class="p">,</span><span class="w"> </span><span class="ss">:format</span><span class="p" data-group-id="8101938101-1">}</span><span class="p">,</span><span class="w">
  </span><span class="ss">metadata</span><span class="p">:</span><span class="w"> </span><span class="ss">:all</span></code></pre><p>Further notes on logging are in the <a href="2-0-x_2-1-0.html#logging">logging section</a></p><p>Additionally there are a few new defaults needed to be set up:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="p">,</span><span class="w"> </span><span class="nc">MongoosePush.Service</span><span class="p">,</span><span class="w">
  </span><span class="ss">fcm</span><span class="p">:</span><span class="w"> </span><span class="nc">MongoosePush.Service.FCM</span><span class="p">,</span><span class="w">
  </span><span class="ss">apns</span><span class="p">:</span><span class="w"> </span><span class="nc">MongoosePush.Service.APNS</span><span class="w">

</span><span class="n">config</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="p">,</span><span class="w"> </span><span class="ss">backend_module</span><span class="p">:</span><span class="w"> </span><span class="nc">MongoosePush</span><span class="w">

</span><span class="n">config</span><span class="w"> </span><span class="ss">:phoenix</span><span class="p">,</span><span class="w"> </span><span class="ss">:json_library</span><span class="p">,</span><span class="w"> </span><span class="nc">Jason</span></code></pre><p>Lastly, since 2.1.0 MongoosePush uses <a href="https://hexdocs.pm/phoenix/1.7.10/Phoenix.html"><code class="inline">Phoenix</code></a> instead of <code class="inline">Maru</code> and Maru config entry can be removed.</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:maru</span><span class="p">,</span><span class="w"> </span><span class="ss">:test</span><span class="p">,</span><span class="w"> </span><span class="no">false</span></code></pre><h2 id="environmental-configs-config-prod-dev-test-exs" class="section-heading">
  <a href="#environmental-configs-config-prod-dev-test-exs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Environmental configs (<code class="inline">config/{prod|dev|test}.exs</code>)</span>
</h2>
<h3 id="phoenix-in-place-of-maru" class="section-heading">
  <a href="#phoenix-in-place-of-maru" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><a href="https://hexdocs.pm/phoenix/1.7.10/Phoenix.html"><code class="inline">Phoenix</code></a> in place of <code class="inline">Maru</code></span>
</h3>
<p>As mentioned earlier, MongoosePush uses <a href="https://hexdocs.pm/phoenix/1.7.10/Phoenix.html"><code class="inline">Phoenix</code></a> and the config has to be updated to reflect that change.
Old <code class="inline">Maru</code> config entry:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:maru</span><span class="p">,</span><span class="w"> </span><span class="nc">MongoosePush.Router</span><span class="p">,</span><span class="w">
  </span><span class="ss">versioning</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-1">[</span><span class="w">
    </span><span class="ss">using</span><span class="p">:</span><span class="w"> </span><span class="ss">:path</span><span class="w">
  </span><span class="p" data-group-id="2604575754-1">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">https</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-2">[</span><span class="w">
    </span><span class="ss">bind_addr</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-3">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:string</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_BIND_ADDR&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p" data-group-id="2604575754-3">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">port</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-4">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:integer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_PORT&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">8443</span><span class="p" data-group-id="2604575754-4">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">keyfile</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-5">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:string</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_KEYFILE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;priv/ssl/fake_key.pem&quot;</span><span class="p" data-group-id="2604575754-5">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">certfile</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-6">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:string</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_CERTFILE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;priv/ssl/fake_cert.pem&quot;</span><span class="p" data-group-id="2604575754-6">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">cacertfile</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-7">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:string</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_CERTFILE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;priv/ssl/fake_cert.pem&quot;</span><span class="p" data-group-id="2604575754-7">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">acceptors</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2604575754-8">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:integer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_ACCEPTORS&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="2604575754-8">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">otp_app</span><span class="p">:</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="w">
  </span><span class="p" data-group-id="2604575754-2">]</span></code></pre><p>It should be removed completely and in its place there must be the new, <a href="https://hexdocs.pm/phoenix/1.7.10/Phoenix.html"><code class="inline">Phoenix</code></a> config entry:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="p">,</span><span class="w"> </span><span class="nc">MongoosePushWeb.Endpoint</span><span class="p">,</span><span class="w">
  </span><span class="ss">https</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-1">[</span><span class="w">
    </span><span class="ss">ip</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-2">{</span><span class="w">
      </span><span class="ss">:system</span><span class="p">,</span><span class="w">
      </span><span class="c1"># Custom type parser (Phoenix needs erlang-inet-style IP address)</span><span class="w">
      </span><span class="p" data-group-id="7575643596-3">{</span><span class="nc">MongoosePush.Config.Utils</span><span class="p">,</span><span class="w"> </span><span class="ss">:parse_bind_addr</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7575643596-4">[</span><span class="p" data-group-id="7575643596-4">]</span><span class="p" data-group-id="7575643596-3">}</span><span class="p">,</span><span class="w">
      </span><span class="s">&quot;PUSH_HTTPS_BIND_ADDR&quot;</span><span class="p">,</span><span class="w">
      </span><span class="p" data-group-id="7575643596-5">{</span><span class="mi">127</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="7575643596-5">}</span><span class="w">
    </span><span class="p" data-group-id="7575643596-2">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">port</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-6">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:integer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_PORT&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">8443</span><span class="p" data-group-id="7575643596-6">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">keyfile</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-7">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:string</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_KEYFILE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;priv/ssl/fake_key.pem&quot;</span><span class="p" data-group-id="7575643596-7">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">certfile</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-8">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:string</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_CERTFILE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;priv/ssl/fake_cert.pem&quot;</span><span class="p" data-group-id="7575643596-8">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">cacertfile</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-9">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:string</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_CERTFILE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;priv/ssl/fake_cert.pem&quot;</span><span class="p" data-group-id="7575643596-9">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">protocol_options</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-10">[</span><span class="w">
      </span><span class="c1"># https://ninenines.eu/docs/en/cowboy/2.5/manual/cowboy_http/</span><span class="w">
    </span><span class="p" data-group-id="7575643596-10">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">transport_options</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-11">[</span><span class="w">
      </span><span class="c1"># https://ninenines.eu/docs/en/ranch/1.6/manual/ranch_tcp/</span><span class="w">
      </span><span class="c1"># https://ninenines.eu/docs/en/ranch/1.6/manual/ranch_ssl/</span><span class="w">
      </span><span class="ss">num_acceptors</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7575643596-12">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:integer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_HTTPS_ACCEPTORS&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="7575643596-12">}</span><span class="w">
    </span><span class="p" data-group-id="7575643596-11">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">otp_app</span><span class="p">:</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="w">
  </span><span class="p" data-group-id="7575643596-1">]</span><span class="p">,</span><span class="w">
  </span><span class="ss">debug_errors</span><span class="p">:</span><span class="w"> </span><span class="no">false</span><span class="p">,</span><span class="w">
  </span><span class="ss">code_reloader</span><span class="p">:</span><span class="w"> </span><span class="no">false</span><span class="p">,</span><span class="w">
  </span><span class="ss">check_origin</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w">
  </span><span class="ss">server</span><span class="p">:</span><span class="w"> </span><span class="no">true</span></code></pre><p>  As you can see, there is no change in the variables used to parse the options.</p><h3 id="logging" class="section-heading">
  <a href="#logging" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Logging</span>
</h3>
<p>Old logging entry looked like this:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="p">,</span><span class="w"> </span><span class="ss">loglevel</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5449279883-1">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:atom</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_LOGLEVEL&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:info</span><span class="p" data-group-id="5449279883-1">}</span></code></pre><p>New logging entry may look like the following:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="p">,</span><span class="w"> </span><span class="ss">:logging</span><span class="p">,</span><span class="w">
  </span><span class="ss">level</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0283540696-1">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:atom</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_LOGLEVEL&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:info</span><span class="p" data-group-id="0283540696-1">}</span><span class="p">,</span><span class="w">
  </span><span class="ss">format</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0283540696-2">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:atom</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_LOGFORMAT&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:json</span><span class="p" data-group-id="0283540696-2">}</span></code></pre><p>The structure changed a little and there is a new variable, <code class="inline">PUSH_LOGFORMAT</code>.
It defaults to <code class="inline">:json</code> for the <code class="inline">prod</code> environment, and to <code class="inline">:logfmt</code> for the <code class="inline">dev</code> and <code class="inline">test</code> environments.
The <code class="inline">logfmt</code> backend was changed to support structured logging.
Please note that if you had a MongoosePush node configured with a log aggregation backend it probably needs to be reconfigured to match the current format of the log messages.
You might also want to consider using the second standard, <code class="inline">JSON</code>, that MongoosePush now supports.</p><h3 id="openapi" class="section-heading">
  <a href="#openapi" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">OpenAPI</span>
</h3>
<p>MongoosePush can expose OpenAPI specification if enabled. Config entry may look like this:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:mongoose_push</span><span class="p">,</span><span class="w">
  </span><span class="ss">openapi</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6062054354-1">[</span><span class="w">
    </span><span class="ss">expose_spec</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6062054354-2">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:boolean</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_OPENAPI_EXPOSE_SPEC&quot;</span><span class="p">,</span><span class="w"> </span><span class="no">false</span><span class="p" data-group-id="6062054354-2">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">expose_ui</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6062054354-3">{</span><span class="ss">:system</span><span class="p">,</span><span class="w"> </span><span class="ss">:boolean</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PUSH_OPENAPI_EXPOSE_UI&quot;</span><span class="p">,</span><span class="w"> </span><span class="no">false</span><span class="p" data-group-id="6062054354-3">}</span><span class="w">
  </span><span class="p" data-group-id="6062054354-1">]</span></code></pre><p><code class="inline">PUSH_OPENAPI_EXPOSE_SPEC</code> enables OpenAPI endpoint support and <code class="inline">PUSH_OPENAPI_EXPOSE_UI</code> enables SwaggerUI.
Both these options are disabled by default. For more details refer to the <a href="configuration.html#general-settings">configuration guide</a>.</p><h3 id="elixometer" class="section-heading">
  <a href="#elixometer" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Elixometer</span>
</h3>
<p>MongoosePush does not use <code class="inline">Elixometer</code> for its metrics anymore. Metrics are provided using <code class="inline">Telemetry</code> and <code class="inline">elixometer</code> config entry should be removed.
Old <code class="inline">elixometer</code> entry:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:elixometer</span><span class="p">,</span><span class="w">
  </span><span class="ss">reporter</span><span class="p">:</span><span class="w"> </span><span class="ss">:exometer_report_tty</span><span class="p">,</span><span class="w">
  </span><span class="ss">env</span><span class="p">:</span><span class="w"> </span><span class="nc">Mix</span><span class="o">.</span><span class="n">env</span><span class="p" data-group-id="6480837036-1">(</span><span class="p" data-group-id="6480837036-1">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">metric_prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mongoose_push&quot;</span></code></pre><p>There is no config entry necessary for <code class="inline">Telemetry</code> metrics.
To learn more about the new metrics and see how to setup default Grafana dashboards check out the <a href="metrics.html">metrics guide</a>.</p><h3 id="api" class="section-heading">
  <a href="#api" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">API</span>
</h3>
<p>Please note that API v2 is deprecated and will be removed in the future.
API v2 and v3 differ only by the returned status and content in case of errors, so in case you are using API v2 please consider changing to API v3.</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="metrics.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Metrics
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="2-1-1_2-1-2.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
2.1.1 to 2.1.2
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

              <a href="MongoosePush.epub" title="ePub version">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.31.1) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
